{"version":3,"sources":["webpack:///./assets/js/theme/home.js","webpack:///./assets/js/theme/custom/instafeed.js"],"names":["IMAGES_REXEP","setImagesHeight","$images","Array","from","document","querySelector","querySelectorAll","every","test","$img","src","complete","minimumHeight","reduce","prevHeight","$currentImg","currentHeight","getBoundingClientRect","height","forEach","style","setTimeout","Home","loaded","next","feed","Instafeed","get","userId","accessToken","limit","resolution","after","$link","setAttribute","run","PageManager","params","context","option","value","options","target","sortBy","links","mock","useHttp","unique","_genKey","prototype","hasNext","nextUrl","length","url","header","instanceName","script","clientId","Error","before","call","createElement","id","_buildUrl","getElementsByTagName","appendChild","window","parse","response","anchor","childNodeCount","childNodeIndex","childNodesArr","e","eMsg","fragment","htmlString","httpProtocol","i","image","imageObj","imageString","imageUrl","images","img","imgHeight","imgOrient","imgUrl","imgWidth","j","k","len","len1","len2","node","parsedLimit","reverse","sortSettings","targetEl","tmpEl","error","meta","code","error_message","data","success","pagination","next_url","split","sort","Math","random","_sortBy","parseInt","slice","createDocumentFragment","filter","_filter","template","width","location","protocol","indexOf","replace","_makeTemplate","model","link","type","orientation","caption","_getObjectProperty","likes","count","comments","innerHTML","childNodes","push","href","getElementById","removeChild","_error","base","endpoint","final","tagName","locationId","S4","toString","substring","output","pattern","ref","varName","varValue","match","object","property","piece","pieces","shift","sorter","a","b","valueA","valueB","bind","filteredImages","fn","root","factory","define","module","exports"],"mappings":"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","file":"theme-bundle.chunk.10.js","sourcesContent":["import PageManager from './page-manager';\nimport Instafeed from './custom/instafeed';\n\nconst IMAGES_REXEP = /\\.(jpg|png|gif)/i;\n\n/**\n * We look for all images inside the features section and try to find the shorter one\n * BigCommerce replace all images with an SVG, so we test we have an image loaded before trying to calculate the minimum height\n */\nfunction setImagesHeight() {\n    const $images = Array.from(document.querySelector('.productGrid').querySelectorAll('.card-image'));\n\n    if ($images.every($img => IMAGES_REXEP.test($img.src) && $img.complete)) {\n        const minimumHeight = $images\n            .reduce((prevHeight, $currentImg) => {\n                const currentHeight = $currentImg.getBoundingClientRect().height;\n                return currentHeight > prevHeight ? prevHeight : currentHeight;\n            }, 2000);\n\n        /* eslint no-return-assign: off, no-param-reassign: off */\n        $images.forEach($img => $img.style.height = `${minimumHeight}px`);\n    } else {\n        setTimeout(setImagesHeight, 10);\n    }\n}\n\nexport default class Home extends PageManager {\n    loaded(next) {\n        const feed = new Instafeed({\n            get: 'user',\n            userId: '1081179426',    // Bon Bon Bon user ID\n            accessToken: '1081179426.edf0822.cba1aff277cf4e28ab56da76876ad6de', // From instagram sandbox\n            limit: 4,\n            resolution: 'standard_resolution',\n            after: () => Array.from(document.querySelectorAll('#instafeed > a')).forEach($link => $link.setAttribute('target', '_blank')),\n        });\n\n        feed.run();\n\n        setImagesHeight();\n        next();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./assets/js/theme/home.js","// Generated by CoffeeScript 1.9.3\n/* eslint func-names: off, no-var: off, wrap-iife: off, no-shadow: off, one-var: off, one-var-declaration-per-line: off, comma-dangle: off, guard-for-in: off, eqeqeq: off, quotes: off, prefer-template: off, no-unused-vars: off, complexity: off, no-else-return: off, no-unneeded-ternary: off, indent: off, prefer-arrow-callback: off, no-param-reassign: off, new-cap: off, no-cond-assign: off, no-loop-func: off, padded-blocks: off, no-undef: off, no-return-assign: off */\n(function () {\n    var Instafeed;\n\n    Instafeed = (function () {\n        function Instafeed(params, context) {\n            var option, value;\n            this.options = {\n                target: 'instafeed',\n                get: 'popular',\n                resolution: 'thumbnail',\n                sortBy: 'none',\n                links: true,\n                mock: false,\n                useHttp: false\n            };\n            if (typeof params === 'object') {\n                for (option in params) {\n                    value = params[option];\n                    this.options[option] = value;\n                }\n            }\n            this.context = context != null ? context : this;\n            this.unique = this._genKey();\n        }\n\n        Instafeed.prototype.hasNext = function () {\n            return typeof this.context.nextUrl === 'string' && this.context.nextUrl.length > 0;\n        };\n\n        Instafeed.prototype.next = function () {\n            if (!this.hasNext()) {\n                return false;\n            }\n            return this.run(this.context.nextUrl);\n        };\n\n        Instafeed.prototype.run = function (url) {\n            var header, instanceName, script;\n            if (typeof this.options.clientId !== 'string') {\n                if (typeof this.options.accessToken !== 'string') {\n                    throw new Error(\"Missing clientId or accessToken.\");\n                }\n            }\n            if (typeof this.options.accessToken !== 'string') {\n                if (typeof this.options.clientId !== 'string') {\n                    throw new Error(\"Missing clientId or accessToken.\");\n                }\n            }\n            if ((this.options.before != null) && typeof this.options.before === 'function') {\n                this.options.before.call(this);\n            }\n            if (typeof document !== \"undefined\" && document !== null) {\n                script = document.createElement('script');\n                script.id = 'instafeed-fetcher';\n                script.src = url || this._buildUrl();\n                header = document.getElementsByTagName('head');\n                header[0].appendChild(script);\n                instanceName = \"instafeedCache\" + this.unique;\n                window[instanceName] = new Instafeed(this.options, this);\n                window[instanceName].unique = this.unique;\n            }\n            return true;\n        };\n\n        Instafeed.prototype.parse = function (response) {\n            var anchor, childNodeCount, childNodeIndex, childNodesArr, e, eMsg, fragment, header, htmlString, httpProtocol, i, image, imageObj, imageString, imageUrl, images, img, imgHeight, imgOrient, imgUrl, imgWidth, instanceName, j, k, len, len1, len2, node, parsedLimit, reverse, sortSettings, targetEl, tmpEl;\n            if (typeof response !== 'object') {\n                if ((this.options.error != null) && typeof this.options.error === 'function') {\n                    this.options.error.call(this, 'Invalid JSON data');\n                    return false;\n                } else {\n                    throw new Error('Invalid JSON response');\n                }\n            }\n            if (response.meta.code !== 200) {\n                if ((this.options.error != null) && typeof this.options.error === 'function') {\n                    this.options.error.call(this, response.meta.error_message);\n                    return false;\n                } else {\n                    throw new Error(\"Error from Instagram: \" + response.meta.error_message);\n                }\n            }\n            if (response.data.length === 0) {\n                if ((this.options.error != null) && typeof this.options.error === 'function') {\n                    this.options.error.call(this, 'No images were returned from Instagram');\n                    return false;\n                } else {\n                    throw new Error('No images were returned from Instagram');\n                }\n            }\n            if ((this.options.success != null) && typeof this.options.success === 'function') {\n                this.options.success.call(this, response);\n            }\n            this.context.nextUrl = '';\n            if (response.pagination != null) {\n                this.context.nextUrl = response.pagination.next_url;\n            }\n            if (this.options.sortBy !== 'none') {\n                if (this.options.sortBy === 'random') {\n                    sortSettings = ['', 'random'];\n                } else {\n                    sortSettings = this.options.sortBy.split('-');\n                }\n                reverse = sortSettings[0] === 'least' ? true : false;\n                switch (sortSettings[1]) {\n                    case 'random':\n                        response.data.sort(function () {\n                            return 0.5 - Math.random();\n                        });\n                        break;\n                    case 'recent':\n                        response.data = this._sortBy(response.data, 'created_time', reverse);\n                        break;\n                    case 'liked':\n                        response.data = this._sortBy(response.data, 'likes.count', reverse);\n                        break;\n                    case 'commented':\n                        response.data = this._sortBy(response.data, 'comments.count', reverse);\n                        break;\n                    default:\n                        throw new Error(\"Invalid option for sortBy: '\" + this.options.sortBy + \"'.\");\n                }\n            }\n            if ((typeof document !== \"undefined\" && document !== null) && this.options.mock === false) {\n                images = response.data;\n                parsedLimit = parseInt(this.options.limit, 10);\n                if ((this.options.limit != null) && images.length > parsedLimit) {\n                    images = images.slice(0, parsedLimit);\n                }\n                fragment = document.createDocumentFragment();\n                if ((this.options.filter != null) && typeof this.options.filter === 'function') {\n                    images = this._filter(images, this.options.filter);\n                }\n                if ((this.options.template != null) && typeof this.options.template === 'string') {\n                    htmlString = '';\n                    imageString = '';\n                    imgUrl = '';\n                    tmpEl = document.createElement('div');\n                    for (i = 0, len = images.length; i < len; i++) {\n                        image = images[i];\n                        imageObj = image.images[this.options.resolution];\n                        if (typeof imageObj !== 'object') {\n                            eMsg = \"No image found for resolution: \" + this.options.resolution + \".\";\n                            throw new Error(eMsg);\n                        }\n                        imgWidth = imageObj.width;\n                        imgHeight = imageObj.height;\n                        imgOrient = \"square\";\n                        if (imgWidth > imgHeight) {\n                            imgOrient = \"landscape\";\n                        }\n                        if (imgWidth < imgHeight) {\n                            imgOrient = \"portrait\";\n                        }\n                        imageUrl = imageObj.url;\n                        httpProtocol = window.location.protocol.indexOf(\"http\") >= 0;\n                        if (httpProtocol && !this.options.useHttp) {\n                            imageUrl = imageUrl.replace(/https?:\\/\\//, '//');\n                        }\n                        imageString = this._makeTemplate(this.options.template, {\n                            model: image,\n                            id: image.id,\n                            link: image.link,\n                            type: image.type,\n                            image: imageUrl,\n                            width: imgWidth,\n                            height: imgHeight,\n                            orientation: imgOrient,\n                            caption: this._getObjectProperty(image, 'caption.text'),\n                            likes: image.likes.count,\n                            comments: image.comments.count,\n                            location: this._getObjectProperty(image, 'location.name')\n                        });\n                        htmlString += imageString;\n                    }\n                    tmpEl.innerHTML = htmlString;\n                    childNodesArr = [];\n                    childNodeIndex = 0;\n                    childNodeCount = tmpEl.childNodes.length;\n                    while (childNodeIndex < childNodeCount) {\n                        childNodesArr.push(tmpEl.childNodes[childNodeIndex]);\n                        childNodeIndex += 1;\n                    }\n                    for (j = 0, len1 = childNodesArr.length; j < len1; j++) {\n                        node = childNodesArr[j];\n                        fragment.appendChild(node);\n                    }\n                } else {\n                    for (k = 0, len2 = images.length; k < len2; k++) {\n                        image = images[k];\n                        img = document.createElement('img');\n                        imageObj = image.images[this.options.resolution];\n                        if (typeof imageObj !== 'object') {\n                            eMsg = \"No image found for resolution: \" + this.options.resolution + \".\";\n                            throw new Error(eMsg);\n                        }\n                        imageUrl = imageObj.url;\n                        httpProtocol = window.location.protocol.indexOf(\"http\") >= 0;\n                        if (httpProtocol && !this.options.useHttp) {\n                            imageUrl = imageUrl.replace(/https?:\\/\\//, '//');\n                        }\n                        img.src = imageUrl;\n                        if (this.options.links === true) {\n                            anchor = document.createElement('a');\n                            anchor.href = image.link;\n                            anchor.appendChild(img);\n                            fragment.appendChild(anchor);\n                        } else {\n                            fragment.appendChild(img);\n                        }\n                    }\n                }\n                targetEl = this.options.target;\n                if (typeof targetEl === 'string') {\n                    targetEl = document.getElementById(targetEl);\n                }\n                if (targetEl == null) {\n                    eMsg = \"No element with id=\\\"\" + this.options.target + \"\\\" on page.\";\n                    throw new Error(eMsg);\n                }\n                targetEl.appendChild(fragment);\n                header = document.getElementsByTagName('head')[0];\n                header.removeChild(document.getElementById('instafeed-fetcher'));\n                instanceName = \"instafeedCache\" + this.unique;\n                window[instanceName] = void 0;\n                try {\n                    delete window[instanceName];\n                } catch (_error) {\n                    e = _error;\n                }\n            }\n            if ((this.options.after != null) && typeof this.options.after === 'function') {\n                this.options.after.call(this);\n            }\n            return true;\n        };\n\n        Instafeed.prototype._buildUrl = function () {\n            var base, endpoint, final;\n            base = \"https://api.instagram.com/v1\";\n            switch (this.options.get) {\n                case \"popular\":\n                    endpoint = \"media/popular\";\n                    break;\n                case \"tagged\":\n                    if (!this.options.tagName) {\n                        throw new Error(\"No tag name specified. Use the 'tagName' option.\");\n                    }\n                    endpoint = \"tags/\" + this.options.tagName + \"/media/recent\";\n                    break;\n                case \"location\":\n                    if (!this.options.locationId) {\n                        throw new Error(\"No location specified. Use the 'locationId' option.\");\n                    }\n                    endpoint = \"locations/\" + this.options.locationId + \"/media/recent\";\n                    break;\n                case \"user\":\n                    if (!this.options.userId) {\n                        throw new Error(\"No user specified. Use the 'userId' option.\");\n                    }\n                    endpoint = \"users/\" + this.options.userId + \"/media/recent\";\n                    break;\n                default:\n                    throw new Error(\"Invalid option for get: '\" + this.options.get + \"'.\");\n            }\n            final = base + \"/\" + endpoint;\n            if (this.options.accessToken != null) {\n                final += \"?access_token=\" + this.options.accessToken;\n            } else {\n                final += \"?client_id=\" + this.options.clientId;\n            }\n            if (this.options.limit != null) {\n                final += \"&count=\" + this.options.limit;\n            }\n            final += \"&callback=instafeedCache\" + this.unique + \".parse\";\n            return final;\n        };\n\n        Instafeed.prototype._genKey = function () {\n            var S4;\n            S4 = function () {\n                return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\n            };\n            return \"\" + (S4()) + (S4()) + (S4()) + (S4());\n        };\n\n        Instafeed.prototype._makeTemplate = function (template, data) {\n            var output, pattern, ref, varName, varValue;\n            pattern = /(?:\\{{2})([\\w\\[\\]\\.]+)(?:\\}{2})/;\n            output = template;\n            while (pattern.test(output)) {\n                varName = output.match(pattern)[1];\n                varValue = (ref = this._getObjectProperty(data, varName)) != null ? ref : '';\n                output = output.replace(pattern, function () {\n                    return \"\" + varValue;\n                });\n            }\n            return output;\n        };\n\n        Instafeed.prototype._getObjectProperty = function (object, property) {\n            var piece, pieces;\n            property = property.replace(/\\[(\\w+)\\]/g, '.$1');\n            pieces = property.split('.');\n            while (pieces.length) {\n                piece = pieces.shift();\n                if ((object != null) && piece in object) {\n                    object = object[piece];\n                } else {\n                    return null;\n                }\n            }\n            return object;\n        };\n\n        Instafeed.prototype._sortBy = function (data, property, reverse) {\n            var sorter;\n            sorter = function (a, b) {\n                var valueA, valueB;\n                valueA = this._getObjectProperty(a, property);\n                valueB = this._getObjectProperty(b, property);\n                if (reverse) {\n                    if (valueA > valueB) {\n                        return 1;\n                    } else {\n                        return -1;\n                    }\n                }\n                if (valueA < valueB) {\n                    return 1;\n                } else {\n                    return -1;\n                }\n            };\n            data.sort(sorter.bind(this));\n            return data;\n        };\n\n        Instafeed.prototype._filter = function (images, filter) {\n            var filteredImages, fn, i, image, len;\n            filteredImages = [];\n            fn = function (image) {\n                if (filter(image)) {\n                    return filteredImages.push(image);\n                }\n            };\n            for (i = 0, len = images.length; i < len; i++) {\n                image = images[i];\n                fn(image);\n            }\n            return filteredImages;\n        };\n\n        return Instafeed;\n\n    })();\n\n    (function (root, factory) {\n        if (typeof define === 'function' && define.amd) {\n            return define([], factory);\n        } else if (typeof module === 'object' && module.exports) {\n            return module.exports = factory();\n        } else {\n            return root.Instafeed = factory();\n        }\n    })(this, function () {\n        return Instafeed;\n    });\n\n}).call(this);\n\n\n\n// WEBPACK FOOTER //\n// ./assets/js/theme/custom/instafeed.js"],"sourceRoot":""}